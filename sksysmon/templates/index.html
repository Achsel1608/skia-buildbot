<!DOCTYPE html>
<html>
  <head>
    <title>sksysmon</title>

    {{template "header.html" .}}

    <style type="text/css" media="screen">
      body {
        font-family: Arial, sans-serif;
        font-size: 15px;
      }

      #pageWrapper {
        background: white;
      }
      .col {
        padding: 0.5em;
      }

      html /deep/ core-toolbar,
      #title {
        background-color: #1f78b4;
        color: #fff;
      }

      #title /deep/ a {
        color: white;
      }

      html /deep/ a {
        color: #1f78b4;
        font-weight: bold;
      }

      html /deep/ #mainContainer {
        background: white;
      }

      paper-toast {
        margin: 2em;
      }

      unit-list-sk {
        margin: 2em;
        display: block;
      }

      table {
        font-size: 20px;
      }
    </style>
  </head>
  <body>
    <scaffold-sk responsiveWidth="700px">
      {{template "titlebar.html" .}}

      <unit-list-sk></unit-list-sk>
      <paper-toast></paper-toast>
    </scaffold-sk>

    <script type="text/javascript" charset="utf-8">
      (function() {
        function loadData() {
          sk.get("/_/list").then(JSON.parse).then(function(json) {
            $$$('unit-list-sk').units = json;
          }).catch(function(e){
            $$$('paper-toast').text = e;
            $$$('paper-toast').show();
          });
        }

        sk.WebComponentsReady.then(loadData);
        $$$('unit-list-sk').addEventListener('unit-updated', loadData);
      })();
    </script>

  </body>
</html>
