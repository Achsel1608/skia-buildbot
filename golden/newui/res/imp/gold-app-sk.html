<!--
  The <gold-app-sk> custom element declaration. 

  This is the container element for the Skia Gold frontend. 

  Attributes: None

  Events: None

  Methods: None

-->

<link rel="import" href="bower_components/polymer/polymer.html"> 
<link rel="import" href="bower_components/iron-pages/iron-pages.html"> 

<link rel="import" href="../common/imp/9/app-sk.html" />
<link rel="import" href="../common/imp/9/login.html" />

<link rel="import" href="gold-menu-sk.html" />
<link rel="import" href="gold-status-sk.html" />
<link rel="import" href="byblame-page-sk.html" />
<link rel="import" href="ignores-page-sk.html" />
<link rel="import" href="list-page-sk.html" />
<link rel="import" href="trybot-page-sk.html" />
<link rel="import" href="failures-page-sk.html" />
<link rel="import" href="search-page-sk.html" />
<link rel="import" href="triagelog-page-sk.html" />
<link rel="import" href="help-page-sk.html" />

<dom-module id="gold-app-sk">
  <template>
    <style>
    app-sk {
      --app-sk-main: {
        background-color: #FFFFFF;
        font-family: Arial, sans-serif;
      };
      --app-sk-toolbar: {
        background-color: #D95F02;
        font-family: Roboto, Arial, sans-serif;
      };
      login-sk{
        --login-sk-color: white;
      };
    }
    </style>

    <app-sk mode="standard" responsive_width="600px" drawer_width="230px" class="fit" flex>
      <h2 header>Skia Gold</h2>
      <gold-status-sk rtoolbar></gold-status-sk>
      <gold-menu-sk navigation></gold-menu-sk>
      <div>
         <iron-pages attr-for-selected="data-route" selected="{{route}}">
          <section data-route="byblame">
            <byblame-page-sk></byblame-page-sk>
          </section>
          <section data-route="ignores">
            <ignores-page-sk></ignores-page-sk>          
          </section>
          <section data-route="list">
            <list-page-sk></list-page-sk>
          </section>
          <section data-route="trybot">
            <trybot-page-sk></trybot-page-sk>
          </section>
          <section data-route="failures">
            <failures-page-sk></failures-page-sk>
          </section>
          <section data-route="search">
            <search-page-sk></search-page-sk>
          </section>
          <section data-route="triagelog">
            <triagelog-page-sk></triagelog-page-sk>
          </section>
          <section data-route="help">
            <help-page-sk></help-page-sk>
          </section>
          <section data-route="notfound">
            <help-page-sk notfound></help-page-sk>
          </section>
       </iron-pages>
     </div>
    </app-sk>

  </template>
  <script>
    Polymer({ 
      is: "gold-app-sk",

      properties: {
        route: {
          type: String, 
          value: "byblame"
        }
      },

      ready: function() {
        // TODO(stephana): Make sure this works with stateReflector. 

        // Set up in-app routing using the history api. 
        this._setRoute('/', 'byblame');
        this._setRoute('/ignores', 'ignores');
        this._setRoute('/list', 'list');
        this._setRoute('/trybot', 'trybot');
        this._setRoute('/failures', 'failures');
        this._setRoute('/search', 'search');
        this._setRoute('/triagelog', 'triagelog');
        this._setRoute('/help', 'help');
        this._setRoute('*', 'notfound');

        // Don't use hashbangs in the URL. 
        page({ hashbang: false });
      },

      _setRoute: function(path, routeID) {
        page(path, (function() { this.route = routeID; }).bind(this));
      }
    });
  </script>
</dom-module>
