<div class="container-fluid ng-cloak" ng-cloak>
    <div class="row stateHeader">
        <div class="col-md-6">
            <span class="stateHeadLine">Positives</span>
        </div>

        <div class="col-md-6 stateSubHeader">
            <span class="stateHeadLine">Untriaged</span>
            <div class="pull-right">
                    <button ng-disabled="!triageStateDirty"
                            ng-click="resetTriageState()"
                            class="btn btn-default">Reset</button>
                    &nbsp; &nbsp; &nbsp; &nbsp;
                    <button ng-disabled="!triageStateDirty"
                            ng-click="saveTriageState()"
                            class="btn btn-primary pull-right">Save</button>
            </div>
        </div>
    </div>
    <div class="row">
    	<div class="col-md-2 imagesColumn">
            <div ng-hide="currentPositive">
                No positive images available.
            </div>
            <div ng-show="currentPositive">
                <div ng-repeat="onePositive in positives" style="padding-bottom: 1em;padding-top: 1em;">
                    <div>
                        <a href="{{onePositive.imgUrl}}" target="_blank">View <span class="glyphicon glyphicon-new-window"></span></a>
                    </div>
                    <div>
                     <img ng-click="selectPositive($index)"
                          ng-src="{{onePositive.imgUrl}}"
                          class="columnImg"
                          ng-class="{selectedImg: $index === posIndex}">
                    </div>
                    <div ng-if="currentUntriaged">
                        {{onePositive.diff.numDiffPixels}} px &#183;
                        {{onePositive.diff.pixelDiffPercent}} % &#183;
                        {{onePositive.diff.maxRGBADiffs | json }}
                    </div>
                </div>
            </div>
    	</div>

    	<div class="col-md-8">
    		<div class="row">
	    		<div class="col-xs-6">
                    <div ng-if="!currentPositive">
                        No positives images available.
                    </div>
                    <div ng-if="currentPositive">
                        <div class="row posNegButtonContainer">
                            &nbsp;
                        </div>
                        <img src="" ng-src="{{currentPositive.imgUrl}}"
                             style="max-width:100%; max-height: 100%; padding-bottom: 1em;">
	    		    </div>
                </div>

                <div class="col-xs-6">
                    <div ng-if="!currentUntriaged">
                        No untriaged images available.
                    </div>
                    <div ng-if="currentUntriaged">
                        <div class="row posNegButtonContainer">
                            <button ng-disabled="triageState[untIndex] === c.POSITIVE"
                                    ng-click="setTriageState(untIndex, c.POSITIVE)"
                                    class="btn btn-success pull-left">Positive</button>
                            <button ng-disabled="triageState[untIndex] === c.NEGATIVE"
                                    ng-click="setTriageState(untIndex, c.NEGATIVE)"
                                    class="btn btn-danger pull-right">Negative</button>
                        </div>
                        <div>
                        <img ng-src="{{currentUntriaged.imgUrl}}"
                             style="max-width:100%; max-height: 100%; padding-bottom: 1em;">
                         </div>
                    </div>
                </div>

	    	</div>
	    	<div class="row" ng-show="currentPositive && currentUntriaged">
                <div>Diff</div>
	    		<div class="col-xs-12">
	    			<img ng-src="{{currentPositive.diff.diffImgUrl}}"
                         class="diffImg" style="padding:0; border: 1px solid #515151;">
	    		</div>
	    	</div>

            <sk-query all-params="allParams" query="query"></sk-query>
            <br>
            <br>
    	</div>

        <div class="col-md-2 imagesColumn">
            <div ng-hide="currentUntriaged">
                No untriaged images available.
            </div>
            <div ng-show="currentUntriaged">
                <div ng-repeat="oneUntriaged in untriaged" style="font-size: 16pt; display: block;">
                    <span ng-if="triageState[$index] === c.POSITIVE"
                          class="glyphicon glyphicon-ok positiveLabel"></span>
                    <span ng-if="triageState[$index] === c.NEGATIVE"
                          class="glyphicon glyphicon-ban-circle negativeLabel"></span>
                    <span ng-if="triageState[$index] === c.UNTRIAGED"
                          class="glyphicon glyphicon-eye-open untriagedLabel"></span>
                    <div style="display:inline;">
                    <img ng-click="selectUntriaged($index)"
                         ng-src="{{oneUntriaged.imgUrl}}"
                         class="columnImg"
                         ng-class="{selectedImg: $index === untIndex}">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
