<div class="container-fluid ng-cloak" ng-cloak>
    <h3>Triage</h3>

    <div class="row stateHeader" ng-show="state === 'loading'">
    	Loading...Please wait.
    </div>

    <div class="row stateHeader" ng-show="state == 'retry'">
    	Server Busy Calculating Filediffs. We will reload in {{reloadInterval}}s.
    </div>

    <div class="row" ng-class="{ 'busyLoading': state !== 'ready' }">
        <div class="row countsQueryContainer">
        	<div class="col-xs-12">
		        <sk-query all-params="allParams" query="query" click-update="loadCounts()"></sk-query>
		    </div>
	    </div>
	    <br><br>

        <div class="row">
        	<div class="col-xs-6">
        		<div>
        			<div class="col-xs-2" style="padding:6px;">
        				<span style="font-weight: bold; text-align: right;">Commit Range:</span>
        			</div>
        			<div class="col-xs-3">
        				<input type="text"  placeholder="Start Commit" style="width: 100%; padding: 6px;">
				    </div>
 				    <div class="col-xs-3">
					    <input type="text"  placeholder="End Commit" style="width: 100%; padding: 6px;">
					</div>
					<div class="col-xs-1">
						<button type="Update" class="btn btn-primary">Update</button>
					</div>
	  			</div>
        	</div>

        	<div class="col-xs-6 pull-right" style="padding: 6px;">
        		<div style="display:inline; font-weight: bold;">
        			Show # of commits:
        		</div>
        		<div class="autoRange" ng-repeat="cr in crLinks">
	        		<a href=""  ng-click="selectCommitRange(cr)">{{cr.name}}</a>
	        	</div>
		    </div>
	    </div>
	    <br><br>

	    <div class="row">
	    	<div class="col-xs-12">
	    	</div>
	    </div>

    	<div class="row">
		    <div class="col-md-12">
				<table class="table table-hover table-condensed" style="font-size:font-size: small;">
			      <thead>
			        <tr>
			          <th>Test</th>
			          <th>+</th>
			          <th>-</th>
			          <th>Untriaged</th>
			          <th>Pos Image</th>
			          <th>Unt Image</th>
			          <th>Diff Image</th>
			          <th>&nbsp;</th>
			        </tr>
			      </thead>

			      <tbody>
			        <tr>
			          <td><a href="#/counts">All Tests</a></td>
			          <td>{{allAggregates.pos}}</td>
			          <td>{{allAggregates.neg}}</td>
			          <td>{{allAggregates.unt}}</td>
			          <td>&nbsp;</td>
			          <td>&nbsp;</td>
			          <td>&nbsp;</td>
			          <td>&nbsp;</td>
			        </tr>
			        <tr ng-repeat="oneTest in allTests">
			          <td style="max-width:15em; word-break: break-all;"><a href="#/counts/{{oneTest.name}}"
			          	   title="{{oneTest.name}}">
			          	{{oneTest.name | limitTo:65 }}
			          </a></td>
			          <td>{{oneTest.aggregates.pos}}</td>
			          <td>{{oneTest.aggregates.neg}}</td>
			          <td>{{oneTest.aggregates.unt}}</td>
			          <td><img ng-style="{ width: settings.imageSize+'px' }"
                               ng-src="{{ imageUrl }}" /></td>
			          <td><img ng-style="{ width: settings.imageSize+'px' }"
                               ng-src="{{ imageUrl }}" /></td>
			          <td><img ng-style="{ width: settings.imageSize+'px' }"
                               ng-src="{{ imageUrl }}" /></td>
			          <td><a href="#/triage/{{oneTest.name}}{{qStr}}">Triage</a></td>
			        </tr>
			      </tbody>
			    </table>
		    </div>
		</div>

    </div>
</div>
