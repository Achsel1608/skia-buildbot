<!--
  The <chromium-build-selector-sk> custom element declaration. Displays an iron-selector allowing
  the user to choose among the available Chromium builds.

  Attributes:
    chromiumBuilds: array of objects as obtained via chromiumBuild.getBuilds. Must be set.
    selected: chromiumBuild.getKey for the currently selected build. Notifies.

  Events:
    None.

  Methods:
    selectFirst: Causes the first build in chromiumBuilds to be selected.
-->

<dom-module id="chromium-build-selector-sk">
  <style>
    .iron-selected {
      background-color: #D6ECF2;
    }

    iron-selector.long-field > div {
      width: 40em;
    }
  </style>
  <template>
    <iron-selector attr-for-selected="id" selected="{{selected}}" class="long-field">
      <template is="dom-repeat" items="{{chromiumBuilds}}">
        <div id="{{getKey(item)}}">{{getDescription(item)}}</div>
      </template>
    </iron-selector>
  </template>
</dom-module>

<script>
   Polymer({
     is: "chromium-build-selector-sk",
     properties: {
       chromiumBuilds: Array,
       selected: {
         type: String,
         notify: true,
       },
     },

     selectFirst: function() {
       if (this.chromiumBuilds.length > 0) {
         this.selected = chromiumBuild.getKey(this.chromiumBuilds[0]);
       }
     },

     getKey: chromiumBuild.getKey,
     getDescription: chromiumBuild.getDescription,
   });
</script>
