<html>
  <head>
    <title>Image comparision failures for {{ slave_info.slave_name }}</title>
  </head>

  <body>
    <h2>Image comparision failures for {{ slave_info.slave_name }}</h2>
    <a href='{{ absolute_url }}index.html'>Back</a>
    <br/><br/>
    Can download this slave's SKPs with:<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<i>gsutil cp {{ slave_info.skps_location }}/* /tmp/skps/</i><br/><br/>
    Can download nopatch images with:<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<i>gsutil cp {{ slave_info.files_location_nopatch }}/* /tmp/nopatch-imgs/</i><br/><br/>
    Can download withpatch images with:<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;<i>gsutil cp {{ slave_info.files_location_withpatch }}/* /tmp/withpath-imgs/</i><br/><br/><br/>
    
    <table border="1" cellpadding="5">
      <tr bgcolor="#CCCCFF">
        <th>Failed Files</th>
        <th>NoPatch Image</th>
        <th>WithPatch Image</th>
        <th>Differing pixels in white</th>
        <th>Difference per pixel</th>
      </tr>
      {% for file_info in slave_info.failed_files %}
        <tr>
          <td align="center">
            {{ file_info.file_name }}<br/>
            <a href='{{ file_info.skp_location }}'>Download SKP</a>
          </td>
          <td>
            <a href='{{ gs_http_files_location_nopatch }}/{{ file_info.file_name }}'><img src="{{ gs_http_files_location_nopatch }}/{{ file_info.file_name }}" alt="nopatch/{{ file_info.file_name }}" width="200" height="200"></a>
            <br/><br/>
          </td>
          <td>
            <a href='{{ gs_http_files_location_withpatch }}/{{ file_info.file_name }}'><img src="{{ gs_http_files_location_withpatch }}/{{ file_info.file_name }}" alt="withpatch/{{ file_info.file_name }}" width="200" height="200"></a>
            <br/><br/>
          </td>
          <td>
            <a href='{{ gs_http_files_location_whitediffs }}/{{ file_info.diff_file_name }}'><img src="{{ gs_http_files_location_whitediffs }}/{{ file_info.diff_file_name }}" alt="whitediffs/{{ file_info.diff_file_name }}" width="200" height="200"></a>
            <br/>
            {{ file_info.percent_pixels_differing }}% ({{ file_info.num_pixels_differing }})
          </td>
          <td>
            <a href='{{ gs_http_files_location_diffs }}/{{ file_info.diff_file_name }}'><img src="{{ gs_http_files_location_diffs }}/{{ file_info.diff_file_name }}" alt="diffs/{{ file_info.diff_file_name }}" width="200" height="200"></a>
            <br/>
            {{ file_info.weighted_diff_measure }}% {{ file_info.max_diff_per_channel }}
          </td>
        </tr>
      {% endfor %}
    </table>
  </body>
</html>
