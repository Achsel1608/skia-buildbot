# This DEPS file checks out a writable copy of the Chromium buildbot code at
# HEAD, rather than the read-only copy at a known-good revision (as checked out
# by the default DEPS file).
#
# Thus, this DEPS file is useful for:
#  - developers who wish to make changes to the underlying Chromium buildbot
#    repository and see their effects on the Skia buildbot
#
# To check out the Skia buildbot code using this DEPS-developer file, run:
#  gclient config https://skia.googlecode.com/svn/buildbot \
#          --deps-file=DEPS-developer
#  gclient sync

use_relative_paths = True

vars = {
  "chromium_trunk": "svn://svn.chromium.org/chrome/trunk",
}

deps = {
  # Chromium buildbot code.
  "third_party/chromium_buildbot":
    Var("chromium_trunk") + "/tools/build",
  "third_party/chromium_buildbot/scripts/command_wrapper/bin":
    Var("chromium_trunk") + "/tools/command_wrapper/bin",
  "third_party/depot_tools":
    Var("chromium_trunk") + "/tools/depot_tools",

  # Dependencies of the Chromium buildbot code.
  # I tried to use From() to link to Chromium's /tools/build/DEPS dependencies,
  # but I couldn't get it to work... so I have hard-coded these dependencies.
  "third_party/chromium_buildbot/third_party/gsutil":
    "svn://svn.chromium.org/gsutil/trunk/src@145",
  "third_party/chromium_buildbot/third_party/gsutil/boto":
    "svn://svn.chromium.org/boto@3",

  "scripts/slave":
    Var("chromium_trunk") + "/tools/build/scripts/slave",
}

hooks = [
  {
    "pattern": ".",
    "action": ["python", "buildbot/hooks-developer.py"],
  },
]
